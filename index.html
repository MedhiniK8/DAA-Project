<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Airline Crew Scheduling System</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&family=Montserrat:wght@500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">

<style>
/* CSS VARIABLES & RESET */
:root {
  --primary: #0f4c75;
  --secondary: #3282b8;
  --accent: #bbe1fa;
  --bg: #f5f7fa;
  --card: #ffffff;
  --text: #333;
  --success: #28a745;
  --danger: #dc3545;
  
  /* Terminal Specific Colors */
  --term-bg: #1e293b;       /* Dark Blue-Grey Background */
  --term-header: #334155;   /* Lighter Header */
  --term-text: #e2e8f0;     /* Light Text */
  --term-green: #4ade80;    /* Matrix Green */
  --term-blue: #0ea5e9;     /* Highlight Blue */
}

body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.6;
}

/* --- HERO SECTION --- */
header {
  background: linear-gradient(rgba(15, 23, 42, 0.7), rgba(15, 23, 42, 0.7)), 
              url('https://images.unsplash.com/photo-1436491865332-7a61a109cc05?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');
  background-size: cover;
  background-position: center;
  color: white;
  padding: 100px 20px;
  text-align: center;
  box-shadow: 0 4px 20px rgba(0,0,0,0.2);
}

header h1 {
  font-family: 'Montserrat', sans-serif;
  font-size: 42px;
  margin: 0;
  font-weight: 700;
}

header h3 {
  font-weight: 400;
  margin-top: 10px;
  color: var(--accent);
}

/* NAVIGATION */
nav {
  background: white;
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 15px;
  padding: 15px;
  box-shadow: 0 3px 10px rgba(0,0,0,0.1);
  position: sticky;
  top: 0;
  z-index: 1000;
}

nav button {
  border: none;
  background: none;
  font-family: 'Montserrat', sans-serif;
  font-weight: 600;
  cursor: pointer;
  padding: 10px 15px;
  color: #555;
  transition: all 0.3s ease;
  border-bottom: 3px solid transparent;
}

nav button:hover {
  color: var(--primary);
  background-color: #f0f0f0;
  border-radius: 5px 5px 0 0;
}

nav button.active {
  border-bottom: 3px solid var(--secondary);
  color: var(--secondary);
}

/* CONTAINER & SECTIONS */
.container {
  max-width: 1000px;
  margin: 40px auto;
  padding: 0 20px;
}

section {
  display: none; /* Hidden by default */
  animation: fadeIn 0.5s;
}

section.active {
  display: block; /* Visible when active */
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* CARDS */
.card {
  background: var(--card);
  padding: 40px;
  border-radius: 12px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.06);
  margin-bottom: 30px;
}

h2 {
  color: var(--primary);
  font-family: 'Montserrat', sans-serif;
  border-left: 5px solid var(--secondary);
  padding-left: 15px;
  margin-bottom: 25px;
}

h3 {
  color: var(--secondary);
  font-family: 'Montserrat', sans-serif;
  margin-top: 30px;
}

p, li {
  font-size: 16px;
  color: #555;
}

ul {
  padding-left: 20px;
}

li {
  margin-bottom: 10px;
}

/* TABLES */
table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
  font-size: 15px;
}

th, td {
  border: 1px solid #ddd;
  padding: 12px;
  text-align: left;
}

th {
  background-color: var(--primary);
  color: white;
}

tr:nth-child(even) {
  background-color: #f9f9f9;
}

/* --- NEW TERMINAL STYLES (Matches Image) --- */
.terminal-grid {
  display: grid;
  grid-template-columns: 1fr 1.5fr; /* Left input smaller, Right log wider */
  gap: 25px;
  margin-top: 20px;
}

.terminal-window {
  background-color: var(--term-bg);
  border-radius: 8px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  overflow: hidden; /* Clips the header */
  display: flex;
  flex-direction: column;
}

.terminal-header {
  background-color: rgba(255,255,255,0.05);
  padding: 10px 15px;
  display: flex;
  gap: 8px;
  border-bottom: 1px solid rgba(255,255,255,0.1);
}

.dot { width: 12px; height: 12px; border-radius: 50%; }
.red { background-color: #ff5f56; }
.yellow { background-color: #ffbd2e; }
.green { background-color: #27c93f; }

.terminal-content {
  padding: 0;
  flex-grow: 1;
  position: relative;
}

/* Input Area Styling */
textarea.code-input {
  width: 100%;
  height: 350px;
  background: transparent;
  color: #a5b4fc; /* Light Purple/Blue text */
  border: none;
  padding: 15px;
  font-family: 'Fira Code', 'Courier New', monospace;
  font-size: 14px;
  resize: none;
  outline: none;
  line-height: 1.5;
}

/* Output Area Styling */
#demoOutput {
  margin: 0;
  padding: 20px;
  height: 350px;
  overflow-y: auto;
  background: transparent;
  color: var(--term-green);
  font-family: 'Fira Code', 'Courier New', monospace;
  font-size: 13px;
  white-space: pre-wrap;
  line-height: 1.6;
}

/* Scrollbar styling for terminal */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: #1e293b; }
::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }

/* The Blue Execute Button */
button.execute-btn {
  background: #0066cc; /* Vivid Blue */
  color: white;
  border: none;
  width: 100%;
  padding: 15px;
  border-radius: 6px;
  font-family: 'Montserrat', sans-serif;
  font-weight: 700;
  font-size: 14px;
  letter-spacing: 0.5px;
  cursor: pointer;
  margin-top: 20px;
  box-shadow: 0 4px 15px rgba(0, 102, 204, 0.4);
  transition: transform 0.2s, background 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}

button.execute-btn:hover {
  background: #0052a3;
  transform: translateY(-2px);
}

button.execute-btn:active {
  transform: translateY(0);
}

@media (max-width: 768px) {
  .terminal-grid { grid-template-columns: 1fr; }
}

/* Utility classes for JS Colored Output */
.log-success { color: #4ade80; font-weight: bold; }
.log-error { color: #f87171; font-weight: bold; }
.log-info { color: #38bdf8; }
.log-dim { color: #94a3b8; }

</style>
</head>

<body>

<header>
  <h1>‚úàÔ∏è Airline Crew Scheduling System</h1>
  <h3>Optimizing Aviation Logistics using Advanced Algorithms</h3>
</header>

<nav>
  <button class="active" onclick="switchTab('overview')">üìã Overview</button>
  <button onclick="switchTab('analysis')">üìä Algorithm Analysis</button>
  <button onclick="switchTab('demo')">üíª Live Terminal</button>
  <button onclick="switchTab('sdg')">üåç SDGs</button>
  <button onclick="switchTab('about')">‚ÑπÔ∏è About</button>
</nav>

<div class="container">

  <section id="overview" class="active">
    <div class="card">
      <h2>Why Airline Crew Scheduling System ?</h2>
      <p>Airlines operate hundreds of flights daily, each requiring a specific set of crew members (pilots, flight attendants). The core problem is <b>resource allocation under constraints</b>: How to assign a limited pool of crew members to a schedule of flights such that:</p>
      <ul>
        <li><b>Coverage:</b> Every flight is assigned a full crew.</li>
        <li><b>Feasibility:</b> No crew member is assigned to overlapping flights or exceeds legal working hour limits.</li>
        <li><b>Efficiency:</b> Idle time (time spent waiting between flights) is minimized to reduce operational costs.</li>
      </ul>
      <h3>Our Solution</h3>
      <p>We developed a C++ Algorithm that functions as an automated scheduler using a "Sort, Search, and Assign" pipeline to guarantee efficiency and correctness.</p>
      <h3>Key Features</h3>
      <ul>
        <li><b>Conflict Detection:</b> Automatically flags if a pilot is busy.</li>
        <li><b>Rest Enforcement:</b> Adds mandatory ‚Äúcool-down‚Äù periods (e.g., 15 mins) post-flight.</li>
        <li><b>Cost Optimization:</b> Uses greedy logic to chain flights together, minimizing idle gaps.</li>
      </ul>
    </div>
  </section>

  <section id="analysis">
    <div class="card">
      <h2>Analysis of Algorithms</h2>
      <h3>Why Algorithmic Approach?</h3>
      <li><b>Manual scheduling</b> fails due to exponential complexity and difficulty handling multiple constraints.</li>
      <li><b>Algorithmic scheduling</b> scales efficiently, producing fast, deterministic, conflict-free solutions in O(n log n) time.</li><br>
      <p>We utilized a ‚ÄúSort-Search-Assign‚Äù pipeline to solve the problem efficiently.</p>
      <table>
        <thead>
          <tr>
            <th>Component</th>
            <th>Algorithm Used</th>
            <th>Complexity</th>
            <th>Why this choice?</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Timeline</td>
            <td>Merge Sort</td>
            <td>O(N log N)</td>
            <td>We need a stable sort to arrange flights chronologically. QuickSort is unstable and could mess up the order of simultaneous flights.</td>
          </tr>
          <tr>
            <td>Crew Lookup</td>
            <td>Binary Search</td>
            <td>O(log M)</td>
            <td>Searching linearly through 5,000+ crew members is too slow (O(M)). Binary search finds the best fit instantly.</td>
          </tr>
          <tr>
            <td>Assignment</td>
            <td>Greedy Strategy</td>
            <td>O(1)</td>
            <td>A ‚ÄúGreedy‚Äù choice (picking the pilot who waits the least) provides a locally optimal solution that saves costs globally.</td>
          </tr>
        </tbody>
      </table>
      <h3>Overall Complexity: O(N log N)</h3>
      <p>The system is dominated by the sorting step, making it highly scalable for thousands of daily flights.</p>
    </div>
  </section>

  <section id="sdg">
    <div class="card">
      <h2>Sustainable Development Goals</h2>
      <li>These are the Sustainable Development Goals addressed by our solution -</li>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top:20px;">
        <div style="background:#ecfdf5; padding:20px; border-radius:8px; border-left: 4px solid #10b981;">
          <h4 style="margin:0; color:#065f46;">üíö SDG 3: Good Health</h4>
          <p style="font-size:0.9rem;">Preventing pilot fatigue through strict algorithmically enforced rest periods.</p>
        </div>
        <div style="background:#eff6ff; padding:20px; border-radius:8px; border-left: 4px solid #3b82f6;">
          <h4 style="margin:0; color:#1e40af;">üìà SDG 8: Economic Growth</h4>
          <p style="font-size:0.9rem;">Optimizing workforce productivity and reducing financial waste from idle time.</p>
        </div>
        <div style="background:#fff7ed; padding:20px; border-radius:8px; border-left: 4px solid #f97316;">
          <h4 style="margin:0; color:#9a3412;">üèóÔ∏è SDG 9: Innovation</h4>
          <p style="font-size:0.9rem;">Upgrading aviation infrastructure with modern computational logistics.</p>
        </div>
      </div>
    </div>
  </section>

  <section id="demo">
    <div class="card" style="background: transparent; box-shadow: none; padding: 0;">
      <h2 style="border: none; padding: 0;">3. System Terminal</h2>
      <p>This interface runs the C++ logic in real-time. It sorts flights and uses binary search to find the crew member with the least idle time.</p>

      <div class="terminal-grid">
        <div>
          <h4 style="margin-top:0; color: #555;">Input Parameters</h4>
          <div class="terminal-window">
            <div class="terminal-header">
              <div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div>
            </div>
            <div class="terminal-content">
              <textarea id="demoInput" class="code-input">
5
F101 10 00 11 30
F102 10 30 12 00
F103 11 00 13 00
F104 12 00 14 00
F105 14 00 16 00

1
Capt_A</textarea>
            </div>
          </div>
          <button class="execute-btn" onclick="runSimulation()">‚ñ∂ EXECUTE SCHEDULER</button>
        </div>

        <div>
          <h4 style="margin-top:0; color: #555;">System Log</h4>
          <div class="terminal-window">
            <div class="terminal-header">
              <div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div>
            </div>
            <div class="terminal-content">
              <div id="demoOutput">>> SYSTEM READY.
>> WAITING FOR INPUT...</div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>

  <section id="about">
    <div class="card">
      <h2>About This Project</h2>
      <h3>Learning Outcomes</h3>
      <ul>
        <li><b>Algorithmic selection :</b> Checking every pilot for every flight, would have been O(N √ó M). Switching to Binary Search reduced this to O(N log M), which is a massive performance gain.</li>
        <li><b>Handling Constraints:</b> Including standard algorithms for the constraints and mandatory rest period to fit real-world rules.</li>
      </ul>
      <p>This website demonstrates the application of efficient algorithms to solve logistical problems in the aviation industry.</p>
    </div>
  </section>

</div>

<script>
// --- NAVIGATION LOGIC ---
function switchTab(tabId) {
  document.querySelectorAll('section').forEach(sec => sec.classList.remove('active'));
  document.getElementById(tabId).classList.add('active');
  document.querySelectorAll('nav button').forEach(btn => btn.classList.remove('active'));
  event.target.classList.add('active');
}

// --- ALGORITHM SIMULATION (Updated for Colored Output) ---

function runSimulation() {
  const rawInput = document.getElementById('demoInput').value;
  const outputElem = document.getElementById('demoOutput');
  
  // Helper to tokenize input
  const tokens = rawInput.trim().split(/\s+/);
  let tokenIdx = 0;
  function next() { return tokenIdx < tokens.length ? tokens[tokenIdx++] : null; }
  
  // Helper: Time conversions
  function toMinutes(h, m) { return (parseInt(h) * 60) + parseInt(m); }
  function toTimeStr(totalMin) {
    let h = Math.floor((totalMin / 60) % 24);
    let m = totalMin % 60;
    return (h < 10 ? "0" + h : h) + ":" + (m < 10 ? "0" + m : m);
  }

  // Helper for outputting colored HTML
  let outHTML = "";
  function log(msg, type="normal") {
    if(type === "header") outHTML += `<span class="log-info">${msg}</span>`;
    else if(type === "success") outHTML += `<span class="log-success">${msg}</span>`;
    else if(type === "error") outHTML += `<span class="log-error">${msg}</span>`;
    else if(type === "dim") outHTML += `<span class="log-dim">${msg}</span>`;
    else outHTML += msg;
  }
  function endl() { outHTML += "\n"; }

  try {
    const MANDATORY_REST_MINUTES = 15;
    
    log(">> INITIALIZING SYSTEM ...", "header"); endl();
    
    let nStr = next();
    if(!nStr) throw "Input empty";
    let n = parseInt(nStr);
    
    log(`>> PROCESSING ${n} FLIGHTS ...`, "header"); endl();
    endl();

    let flights = [];
    for(let i=0; i<n; i++) {
      let fid = next();
      let sH = next(); let sM = next();
      let eH = next(); let eM = next();
      flights.push({ id: fid, startMin: toMinutes(sH, sM), endMin: toMinutes(eH, eM) });
    }

    let m = parseInt(next());
    let crewPool = [];
    for(let i=0; i<m; i++) {
      crewPool.push({ id: next(), availableMin: 0 });
    }

    // Sort Flights
    flights.sort((a, b) => a.startMin - b.startMin);
    let assignedCount = 0;

    // Processing Loop
    for(let i=0; i<flights.length; i++) {
      let flight = flights[i];
      
      // Filter & Sort Crew (Simulating Binary Search/Upper Bound)
      let validCrews = crewPool.filter(c => c.availableMin <= flight.startMin);
      let selectedCrew = null;

      if(validCrews.length > 0) {
        validCrews.sort((a, b) => {
          if (a.availableMin !== b.availableMin) return b.availableMin - a.availableMin; // DESC
          if (a.id > b.id) return -1;
          return 0;
        });
        let bestCandidate = validCrews[0];
        selectedCrew = crewPool.find(c => c.id === bestCandidate.id && c.availableMin === bestCandidate.availableMin);
      }

      if (selectedCrew == null) {
        log(`[!] CONFLICT: ${flight.id} (${toTimeStr(flight.startMin)}) - NO CREW`, "error");
        endl();
        log("-----------------------------------------", "dim"); endl();
      } else {
        let idleTime = flight.startMin - selectedCrew.availableMin;
        
        log(`[‚úì] ASSIGNED: ${flight.id} ‚Üí ${selectedCrew.id}`, "success"); endl();
        log(`    Time: ${toTimeStr(flight.startMin)}-${toTimeStr(flight.endMin)} | Idle: ${idleTime}m`, "dim");
        endl();
        log("-----------------------------------------", "dim"); endl();

        selectedCrew.availableMin = flight.endMin + MANDATORY_REST_MINUTES;
        assignedCount++;
      }
    }

    endl();
    log(">> SCHEDULE GENERATION COMPLETE.", "header"); endl();
    let rate = ((assignedCount/n)*100).toFixed(1);
    log(`>> Success Rate: ${rate}%`, "success");

  } catch (e) {
    outHTML += `\n<span class="log-error">Error parsing input. Please check format.</span>`;
    console.error(e);
  }

  // Update with HTML instead of textContent
  outputElem.innerHTML = outHTML;
}
</script>

</body>
</html>
